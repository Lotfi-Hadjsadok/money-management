{"version":3,"sources":["pages/home/Home.module.css","components/NavBar.module.css","pages/login/Login.module.css","pages/signup/Signup.module.css","firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","components/NavBar.js","hooks/useLogout.js","hooks/useFirestore.js","pages/home/TransactionForm.js","pages/home/TransactionList.js","pages/home/Home.js","hooks/useCollection.js","pages/login/Login.js","hooks/useLogin.js","pages/signup/Signup.js","hooks/useSignup.js","App.js","index.js"],"names":["module","exports","app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","timestamp","FieldValue","serverTimestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthProvider","children","useReducer","dispatch","useEffect","unsub","onAuthStateChanged","Provider","value","useAuthContext","context","useContext","Error","NavBar","logout","useState","isCancelled","setIsCancelled","error","setError","isPending","setIsPending","a","signOut","console","log","message","useLogout","className","styles","navbar","title","to","displayName","onClick","initialState","document","success","firestoreReducer","useFirestore","collection","response","ref","sureDispatch","addDocument","doc","createdAt","add","addedDoc","deleteDocument","id","delete","deletedDoc","TransactionForm","uid","name","setName","amount","setAmount","onSubmit","e","preventDefault","required","onChange","target","TransactionList","documents","transactions","map","Home","_query","_orderBy","query","useRef","current","orderBy","setDocuments","where","onSnapshot","snapshot","results","docs","forEach","push","data","useCollection","container","content","sidebar","Login","email","setEmail","password","setPassword","login","signInWithEmailAndPassword","useLogin","disabled","Signup","setDisplayName","signup","createUserWithEmailAndPassword","updateProfile","useSignup","App","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.aa986adf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__347yP\",\"content\":\"Home_content__2RvG8\",\"sidebar\":\"Home_sidebar__2BOGS\",\"transactions\":\"Home_transactions__2C_xp\",\"name\":\"Home_name__eMOSU\",\"amount\":\"Home_amount__Bl8mI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"NavBar_navbar__1IwtZ\",\"title\":\"NavBar_title__fFs0I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login-form\":\"Login_login-form__1UkJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"signup-form\":\"Signup_signup-form__1P1dF\"};","// Import the functions you need from the SDKs you need\r\nimport firebase from \"firebase/compat/app\";\r\nimport 'firebase/compat/firestore'\r\n\r\nimport 'firebase/compat/auth'\r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDrr-vfbqfRcaYIo2WHbk8pAXGFyy9qugs\",\r\n    authDomain: \"mymoney-bfae1.firebaseapp.com\",\r\n    projectId: \"mymoney-bfae1\",\r\n    storageBucket: \"mymoney-bfae1.appspot.com\",\r\n    messagingSenderId: \"868947494443\",\r\n    appId: \"1:868947494443:web:a8f1b50bd3326187e58c6e\",\r\n    measurementId: \"G-4CFMT479JE\"\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = firebase.initializeApp(firebaseConfig);\r\n\r\n// FireStore\r\nexport const db = app.firestore()\r\n\r\n// Firebase Auth\r\nexport const auth = app.auth()\r\n\r\n// TimeStamp\r\nexport const timestamp = firebase.firestore.FieldValue.serverTimestamp()","import { createContext,useEffect , useReducer } from \"react\";\r\n\r\nimport { auth } from \"../firebase/config\";\r\n\r\nexport const AuthContext = createContext()\r\nexport const authReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'LOGIN':\r\n            return { ...state, user: action.payload }\r\n        case 'LOGOUT':\r\n            return { ...state, user: null }\r\n        case 'AUTH_IS_READY':\r\n            return { ...state, user: action.payload, authIsReady: true }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport const AuthProvider = ({ children }) => {\r\n    const [state, dispatch] = useReducer(authReducer, {\r\n        user: null,\r\n        authIsReady: false\r\n    })\r\n    useEffect(() => {\r\n        const unsub = auth.onAuthStateChanged((user) => {\r\n            dispatch({ type: 'AUTH_IS_READY', payload: user })\r\n            unsub()\r\n        })\r\n    }, [])\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ ...state, dispatch }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    )\r\n}","import { useContext } from \"react\";\r\nimport { AuthContext } from \"../context/AuthContext\";\r\nexport const useAuthContext = () => {\r\n    const context = useContext(AuthContext)\r\n    if (!context) throw new Error('UseAuthContext must be used inside AuthProvider')\r\n\r\n    return context;\r\n}","import { Link } from 'react-router-dom'\r\nimport { useAuthContext } from '../hooks/useAuthContext'\r\nimport { useLogout } from '../hooks/useLogout'\r\nimport styles from './NavBar.module.css'\r\nfunction NavBar() {\r\n    const { logout } = useLogout()\r\n    const { user } = useAuthContext()\r\n    return (\r\n        <nav className={styles.navbar}>\r\n            <ul>\r\n                <li className={styles.title}>My Money</li>\r\n                {!user && <li><Link to=\"/login\">Login</Link></li>}\r\n                {!user && <li><Link to=\"/signup\">Signup</Link></li>}\r\n                {user && (\r\n                    <>\r\n                        <li>Hello {user.displayName}</li>\r\n                        <li><button className=\"btn\" onClick={logout}>Logout</button></li>\r\n                    </>\r\n\r\n                )}\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default NavBar\r\n","import { useEffect, useState } from \"react\"\r\nimport { auth } from \"../firebase/config\"\r\nimport { useAuthContext } from \"./useAuthContext\"\r\n\r\n\r\nexport const useLogout = () => {\r\n    const [isCancelled, setIsCancelled] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const { dispatch } = useAuthContext()\r\n    const logout = async () => {\r\n        setIsPending(true)\r\n        setError(null)\r\n        try {\r\n            await auth.signOut()\r\n            dispatch({ type: 'LOGOUT' })\r\n            if (!isCancelled) {\r\n                setIsPending(false)\r\n                setError(null)\r\n            }\r\n\r\n        }\r\n        catch (error) {\r\n            if (!isCancelled) {\r\n                console.log(error.message)\r\n                setError(error.message)\r\n                setIsPending(false)\r\n            }\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        return () => {\r\n            setIsCancelled(true)\r\n        }\r\n    }, [])\r\n    return { error, isPending, logout }\r\n}","import { useState } from 'react'\r\nimport { useEffect, useReducer } from 'react/cjs/react.development'\r\nimport { db, timestamp } from '../firebase/config'\r\n\r\nlet initialState = {\r\n    document: null,\r\n    isPending: false,\r\n    error: null,\r\n    success: null\r\n}\r\nconst firestoreReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'IS_PENDING':\r\n            return { isPending: true, document: null, success: null, error: null }\r\n        case 'ADDED_DOC':\r\n            return { ...state, isPending: false, document: action.payload, success: true }\r\n        case 'DELETED_DOC':\r\n            return { ...state, isPending: false, document: null, success: true }\r\n        case 'ERROR':\r\n            return { ...state, isPending: false, error: action.payload, success: false }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const useFirestore = (collection) => {\r\n\r\n    const [response, dispatch] = useReducer(firestoreReducer, initialState)\r\n    const [isCancelled, setIsCancelled] = useState(false)\r\n    const ref = db.collection(collection)\r\n    const sureDispatch = (action) => {\r\n        if (!isCancelled)\r\n            dispatch(action)\r\n    }\r\n\r\n    //add doc\r\n    const addDocument = async (doc) => {\r\n        dispatch({ type: 'IS_PENDING' })\r\n\r\n        try {\r\n\r\n            const createdAt = timestamp\r\n            const addedDoc = await ref.add(doc)\r\n\r\n            sureDispatch({ type: 'ADDED_DOC', payload: { ...addedDoc, createdAt } })\r\n        }\r\n        catch (err) {\r\n            sureDispatch({ type: 'ERROR', payload: err.message })\r\n\r\n        }\r\n    }\r\n\r\n    // delete doc\r\n    const deleteDocument = async id => {\r\n        dispatch({ type: 'IS_PENDING' })\r\n        try {\r\n            const deletedDoc = await ref.doc(id).delete()\r\n            sureDispatch({ type: 'DELETED_DOC', payload: deletedDoc })\r\n        } catch (error) {\r\n            sureDispatch({ type: 'ERROR', payload: error.message })\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => setIsCancelled(true)\r\n    }, [])\r\n\r\n    return { addDocument, deleteDocument, response }\r\n}","import { useState } from \"react\"\r\nimport { useEffect } from \"react/cjs/react.development\"\r\nimport { useFirestore } from \"../../hooks/useFirestore\"\r\n\r\nfunction TransactionForm({ uid }) {\r\n    const [name, setName] = useState('')\r\n    const [amount, setAmount] = useState('')\r\n\r\n    const { response, addDocument } = useFirestore('transactions')\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n\r\n        addDocument({ name, amount, uid })\r\n    }\r\n    useEffect(() => {\r\n        if (response.success) {\r\n            setName('')\r\n            setAmount('')\r\n        }\r\n    }, [response.success])\r\n    return (\r\n        <>\r\n            <h3>Add a Transaction</h3>\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    <span>Transaction name:</span>\r\n                    <input type=\"text\" required onChange={(e) => setName(e.target.value)} value={name} />\r\n                </label>\r\n                <label>\r\n                    <span>Amount ($):</span>\r\n                    <input type=\"number\" required onChange={(e) => setAmount(e.target.value)} value={amount} />\r\n                </label>\r\n                {response.isPending && <button className=\"btn\">Loading ...</button>}\r\n                {!response.isPending && <button className=\"btn\">Add Transaction</button>}\r\n            </form>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default TransactionForm\r\n","import { useFirestore } from '../../hooks/useFirestore'\r\nimport styles from './Home.module.css'\r\nfunction TransactionList({ documents }) {\r\n    const { deleteDocument } = useFirestore('transactions')\r\n    return (\r\n        <ul className={styles.transactions}>\r\n            {documents.map(doc => (\r\n                <li key={doc.id}>\r\n                    <p className={styles.name}>{doc.name}</p>\r\n                    <p className={styles.amount}>${doc.amount}</p>\r\n                    <button onClick={() => deleteDocument(doc.id)}>x</button>\r\n                </li>\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default TransactionList\r\n","import styles from './Home.module.css'\r\nimport TransactionForm from './TransactionForm'\r\nimport { useAuthContext } from '../../hooks/useAuthContext'\r\nimport { useCollection } from '../../hooks/useCollection'\r\nimport TransactionList from './TransactionList'\r\nfunction Home() {\r\n    const { user } = useAuthContext()\r\n    const { documents, error } = useCollection('transactions', [\"uid\", '==', user.uid])\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.content}>\r\n                {error && <p>{error}</p>}\r\n                {documents && <TransactionList documents={documents} />}\r\n            </div>\r\n            <div className={styles.sidebar}>\r\n                <TransactionForm uid={user.uid} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","import { useState, useEffect, useRef } from \"react\"\r\n\r\nimport { db } from \"../firebase/config\"\r\n\r\nexport const useCollection = (collection, _query, _orderBy) => {\r\n    const query = useRef(_query).current\r\n    const orderBy = useRef(_orderBy).current\r\n    const [documents, setDocuments] = useState(null)\r\n    const [error, setError] = useState(null)\r\n    useEffect(() => {\r\n        let ref = db.collection(collection)\r\n\r\n        if (query) ref = ref.where(...query)\r\n        if (orderBy) ref = ref.orderBy(...orderBy)\r\n\r\n        const unsub = ref.onSnapshot((snapshot) => {\r\n            let results = []\r\n            snapshot.docs.forEach(doc => {\r\n                results.push({ ...doc.data(), id: doc.id })\r\n            })\r\n            setDocuments(results)\r\n            setError(null)\r\n        }, (error) => {\r\n            console.log(error.message)\r\n            setError(error.message)\r\n        })\r\n        return () => unsub()\r\n    }, [collection, query, orderBy])\r\n    return { documents, error }\r\n}","import { useState } from 'react'\r\nimport { useLogin } from '../../hooks/useLogin'\r\nimport styles from './Login.module.css'\r\nfunction Login() {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const { login, isPending, error } = useLogin()\r\n    const handleLogin = (e) => {\r\n        e.preventDefault()\r\n        login(email, password)\r\n    }\r\n    return (\r\n        <form onSubmit={handleLogin} className={styles['login-form']}>\r\n            <h2>Login</h2>\r\n            <label>\r\n                <span>email:</span>\r\n                <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            </label>\r\n\r\n            <label>\r\n                <span>password:</span>\r\n                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            </label>\r\n\r\n\r\n            {!isPending && <button className=\"btn\">Login</button>}\r\n            {isPending && <button className=\"btn\" disabled>Loading ...</button>}\r\n            {error && <p>{error}</p>}\r\n        </form >\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import { useEffect, useState } from \"react\"\r\nimport { auth } from \"../firebase/config\"\r\nimport { useAuthContext } from \"./useAuthContext\"\r\n\r\n\r\nexport const useLogin = () => {\r\n    const [isCancelled, setIsCancelled] = useState(false)\r\n    const [error, setError] = useState(null)\r\n    const [isPending, setIsPending] = useState(false)\r\n    const { dispatch } = useAuthContext()\r\n    const login = async (email, password) => {\r\n        setIsPending(true)\r\n        setError(null)\r\n        try {\r\n            const response = await auth.signInWithEmailAndPassword(email, password)\r\n            dispatch({ type: 'LOGIN', payload: response.user })\r\n            if (!isCancelled) {\r\n                setIsPending(false)\r\n                setError(null)\r\n            }\r\n\r\n        }\r\n        catch (error) {\r\n            if (!isCancelled) {\r\n                console.log(error.message)\r\n                setError(error.message)\r\n                setIsPending(false)\r\n            }\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        return () => {\r\n            setIsCancelled(true)\r\n        }\r\n    }, [])\r\n    return { error, isPending, login }\r\n}","import { useState } from 'react'\r\nimport { useSignup } from '../../hooks/useSignup'\r\nimport styles from './Signup.module.css'\r\nfunction Signup() {\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [displayName, setDisplayName] = useState('')\r\n    const { error, signup, isPending } = useSignup()\r\n    const handleSignup = (e) => {\r\n        e.preventDefault()\r\n        signup(email, password, displayName)\r\n\r\n    }\r\n    return (\r\n        <form onSubmit={handleSignup} className={styles['signup-form']}>\r\n            <h2>Signup</h2>\r\n            <label>\r\n                <span>email:</span>\r\n                <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n            </label>\r\n\r\n            <label>\r\n                <span>password:</span>\r\n                <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\r\n            </label>\r\n\r\n            <label>\r\n                <span>display name:</span>\r\n                <input type=\"text\" value={displayName} onChange={(e) => setDisplayName(e.target.value)} />\r\n            </label>\r\n\r\n            {!isPending && <button className=\"btn\">Signup</button>}\r\n            {isPending && <button className='btn'>Loading ...</button>}\r\n            {error && <p>{error}</p>}\r\n        </form >\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import { useEffect, useState } from \"react\"\r\nimport { auth } from '../firebase/config'\r\nimport { useAuthContext } from \"./useAuthContext\"\r\nexport const useSignup = () => {\r\n    const [error, setError] = useState(null)\r\n    const [isPending, setIsPending] = useState(null)\r\n    const { dispatch } = useAuthContext()\r\n    const [isCancelled, setIsCancelled] = useState(false)\r\n\r\n    const signup = async (email, password, displayName) => {\r\n        setError(null)\r\n        setIsPending(true)\r\n        try {\r\n            const response = await auth.createUserWithEmailAndPassword(email, password)\r\n            if (!response) {\r\n                throw new Error('Could not complete signup')\r\n            }\r\n            await response.user.updateProfile({ displayName })\r\n\r\n            dispatch({ type: 'LOGIN', payload: response.user })\r\n\r\n            if (!isCancelled) {\r\n                setIsPending(false)\r\n                setError(null)\r\n            }\r\n\r\n        }\r\n        catch (err) {\r\n            if (!isCancelled) {\r\n                console.log(err.message)\r\n                setError(err.message)\r\n                setIsPending(false)\r\n            }\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        return setIsCancelled(true)\r\n    }, [])\r\n    return { error, isPending, signup }\r\n}","import { BrowserRouter, Navigate, Route, Routes } from 'react-router-dom';\nimport './App.css'\nimport NavBar from './components/NavBar';\nimport { useAuthContext } from './hooks/useAuthContext';\nimport Home from './pages/home/Home';\nimport Login from './pages/login/Login';\nimport Signup from './pages/signup/Signup';\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext()\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          <NavBar />\n          <Routes>\n            <Route path='/' element={user ? <Home /> : <Navigate to=\"/login\" />} />\n            <Route path='/login' element={!user ? <Login /> : <Navigate to='/' />} />\n            <Route path='/signup' element={!user ? <Signup /> : <Navigate to='/' />} />\n          </Routes>\n        </BrowserRouter>\n      )}\n\n    </div>\n  );\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AuthProvider } from './context/AuthContext';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}